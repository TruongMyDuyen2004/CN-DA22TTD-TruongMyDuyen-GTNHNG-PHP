# ğŸ“§ HÆ°á»›ng dáº«n Tráº£ lá»i LiÃªn há»‡ tá»« KhÃ¡ch hÃ ng

## Tá»•ng quan
Há»‡ thá»‘ng quáº£n lÃ½ liÃªn há»‡ cho phÃ©p admin xem vÃ  tráº£ lá»i tin nháº¯n tá»« khÃ¡ch hÃ ng má»™t cÃ¡ch chuyÃªn nghiá»‡p, vá»›i kháº£ nÄƒng gá»­i email tá»± Ä‘á»™ng.

## TÃ­nh nÄƒng chÃ­nh

### 1. Xem danh sÃ¡ch liÃªn há»‡
- **Thá»‘ng kÃª tá»•ng quan**: Hiá»ƒn thá»‹ sá»‘ lÆ°á»£ng tin nháº¯n theo tráº¡ng thÃ¡i
  - Tá»•ng liÃªn há»‡
  - ChÆ°a Ä‘á»c (mÃ u vÃ ng)
  - ÄÃ£ Ä‘á»c
  - ÄÃ£ tráº£ lá»i (mÃ u xanh)

- **Bá»™ lá»c**: Lá»c tin nháº¯n theo tráº¡ng thÃ¡i
- **Danh sÃ¡ch**: Hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ thÃ´ng tin liÃªn há»‡

### 2. Xem chi tiáº¿t tin nháº¯n
**CÃ¡ch thá»±c hiá»‡n:**
1. Click nÃºt **ğŸ‘ï¸ Xem** trÃªn tin nháº¯n muá»‘n xem
2. Modal hiá»ƒn thá»‹:
   - ThÃ´ng tin ngÆ°á»i gá»­i (tÃªn, email, sá»‘ Ä‘iá»‡n thoáº¡i)
   - Ná»™i dung tin nháº¯n Ä‘áº§y Ä‘á»§
   - Thá»i gian gá»­i
   - Lá»‹ch sá»­ pháº£n há»“i (náº¿u Ä‘Ã£ tráº£ lá»i)

**Tá»± Ä‘á»™ng:**
- Tin nháº¯n chÆ°a Ä‘á»c sáº½ tá»± Ä‘á»™ng chuyá»ƒn sang tráº¡ng thÃ¡i "ÄÃ£ Ä‘á»c"
- MÃ u ná»n vÃ ng sáº½ biáº¿n máº¥t

### 3. Tráº£ lá»i tin nháº¯n

#### CÃ¡ch 1: Tá»« danh sÃ¡ch
1. Click nÃºt **â†©ï¸ Tráº£ lá»i** trÃªn tin nháº¯n
2. Modal tráº£ lá»i sáº½ hiá»ƒn thá»‹

#### CÃ¡ch 2: Tá»« chi tiáº¿t
1. Xem chi tiáº¿t tin nháº¯n
2. Click nÃºt **Tráº£ lá»i** á»Ÿ cuá»‘i modal

#### Ná»™i dung modal tráº£ lá»i:
- **ThÃ´ng tin ngÆ°á»i nháº­n**: Hiá»ƒn thá»‹ tÃªn vÃ  email khÃ¡ch hÃ ng
- **Tin nháº¯n gá»‘c**: Xem láº¡i ná»™i dung khÃ¡ch hÃ ng Ä‘Ã£ gá»­i
- **Lá»‹ch sá»­ pháº£n há»“i**: Náº¿u Ä‘Ã£ tráº£ lá»i trÆ°á»›c Ä‘Ã³
- **Ã” nháº­p pháº£n há»“i**: Textarea Ä‘á»ƒ nháº­p ná»™i dung
- **Checkbox gá»­i email**: TÃ¹y chá»n gá»­i email thÃ´ng bÃ¡o

### 4. Gá»­i pháº£n há»“i

**CÃ¡c bÆ°á»›c:**
1. Nháº­p ná»™i dung pháº£n há»“i vÃ o Ã´ textarea
2. Chá»n/bá» chá»n "Gá»­i email thÃ´ng bÃ¡o cho khÃ¡ch hÃ ng"
3. Click **ğŸ“§ Gá»­i pháº£n há»“i**

**Khi gá»­i thÃ nh cÃ´ng:**
- Pháº£n há»“i Ä‘Æ°á»£c lÆ°u vÃ o database
- Tráº¡ng thÃ¡i tin nháº¯n chuyá»ƒn sang "ÄÃ£ tráº£ lá»i"
- Email Ä‘Æ°á»£c gá»­i tá»± Ä‘á»™ng (náº¿u Ä‘Ã£ chá»n)
- Trang tá»± Ä‘á»™ng reload Ä‘á»ƒ cáº­p nháº­t

### 5. Email tá»± Ä‘á»™ng

**Ná»™i dung email bao gá»“m:**
- Header Ä‘áº¹p máº¯t vá»›i logo Ngon Gallery
- Lá»i chÃ o khÃ¡ch hÃ ng (theo tÃªn)
- Ná»™i dung pháº£n há»“i tá»« admin
- Tin nháº¯n gá»‘c cá»§a khÃ¡ch hÃ ng
- Footer vá»›i thÃ´ng tin liÃªn há»‡

**Äá»‹nh dáº¡ng:**
- HTML responsive
- MÃ u sáº¯c thÆ°Æ¡ng hiá»‡u (cam #FF6B35)
- Dá»… Ä‘á»c trÃªn má»i thiáº¿t bá»‹

## Tráº¡ng thÃ¡i tin nháº¯n

| Tráº¡ng thÃ¡i | Badge | Ã nghÄ©a |
|------------|-------|---------|
| **new** | ğŸŸ¡ ChÆ°a Ä‘á»c | Tin nháº¯n má»›i, chÆ°a Ä‘Æ°á»£c xem |
| **read** | ğŸ”µ ÄÃ£ Ä‘á»c | ÄÃ£ xem nhÆ°ng chÆ°a tráº£ lá»i |
| **replied** | ğŸŸ¢ ÄÃ£ tráº£ lá»i | ÄÃ£ gá»­i pháº£n há»“i cho khÃ¡ch hÃ ng |

## Cáº¥u trÃºc Database

### Báº£ng `contacts`
```sql
- id: ID tin nháº¯n
- name: TÃªn ngÆ°á»i gá»­i
- email: Email
- phone: Sá»‘ Ä‘iá»‡n thoáº¡i
- message: Ná»™i dung
- status: Tráº¡ng thÃ¡i (new/read/replied)
- admin_reply: Ná»™i dung pháº£n há»“i
- replied_at: Thá»i gian tráº£ lá»i
- replied_by: ID admin tráº£ lá»i
- created_at: Thá»i gian táº¡o
```

### Báº£ng `contact_replies`
```sql
- id: ID pháº£n há»“i
- contact_id: ID tin nháº¯n
- admin_id: ID admin
- reply_message: Ná»™i dung pháº£n há»“i
- sent_at: Thá»i gian gá»­i
```

## Thiáº¿t láº­p Database

**Cháº¡y lá»‡nh:**
```bash
php config/setup_contact_replies.php
```

**Hoáº·c import SQL:**
```bash
mysql -u username -p database_name < config/setup_contact_replies.sql
```

## API Endpoint

### POST `/api/send-contact-reply.php`

**Request:**
```json
{
  "contact_id": 123,
  "reply_message": "Ná»™i dung pháº£n há»“i...",
  "send_email": true
}
```

**Response thÃ nh cÃ´ng:**
```json
{
  "success": true,
  "message": "ÄÃ£ gá»­i pháº£n há»“i thÃ nh cÃ´ng",
  "email_sent": true
}
```

**Response lá»—i:**
```json
{
  "success": false,
  "message": "ThÃ´ng bÃ¡o lá»—i"
}
```

## TÃ­nh nÄƒng ná»•i báº­t

### âœ… Giao diá»‡n thÃ¢n thiá»‡n
- Modal hiá»‡n Ä‘áº¡i, dá»… sá»­ dá»¥ng
- Animation mÆ°á»£t mÃ 
- Responsive trÃªn má»i thiáº¿t bá»‹

### âœ… Tá»± Ä‘á»™ng hÃ³a
- Tá»± Ä‘á»™ng Ä‘Ã¡nh dáº¥u Ä‘Ã£ Ä‘á»c
- Tá»± Ä‘á»™ng gá»­i email
- Tá»± Ä‘á»™ng cáº­p nháº­t tráº¡ng thÃ¡i

### âœ… Lá»‹ch sá»­ Ä‘áº§y Ä‘á»§
- LÆ°u táº¥t cáº£ pháº£n há»“i
- Hiá»ƒn thá»‹ lá»‹ch sá»­ tráº£ lá»i
- Theo dÃµi admin Ä‘Ã£ tráº£ lá»i

### âœ… Email chuyÃªn nghiá»‡p
- Template Ä‘áº¹p máº¯t
- Bao gá»“m tin nháº¯n gá»‘c
- ThÃ´ng tin liÃªn há»‡ Ä‘áº§y Ä‘á»§

## PhÃ­m táº¯t

- **ESC**: ÄÃ³ng modal
- **Click ngoÃ i modal**: ÄÃ³ng modal

## LÆ°u Ã½ quan trá»ng

1. **Quyá»n truy cáº­p**: Chá»‰ admin Ä‘Ã£ Ä‘Äƒng nháº­p má»›i cÃ³ thá»ƒ tráº£ lá»i
2. **Email**: Cáº§n cáº¥u hÃ¬nh mail server Ä‘á»ƒ gá»­i email
3. **Validation**: Ná»™i dung pháº£n há»“i khÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ trá»‘ng
4. **Lá»‹ch sá»­**: CÃ³ thá»ƒ tráº£ lá»i nhiá»u láº§n cho cÃ¹ng má»™t tin nháº¯n

## Xá»­ lÃ½ lá»—i

### Email khÃ´ng gá»­i Ä‘Æ°á»£c
- Kiá»ƒm tra cáº¥u hÃ¬nh mail server
- Kiá»ƒm tra email khÃ¡ch hÃ ng cÃ³ há»£p lá»‡
- Pháº£n há»“i váº«n Ä‘Æ°á»£c lÆ°u vÃ o database

### KhÃ´ng thá»ƒ gá»­i pháº£n há»“i
- Kiá»ƒm tra káº¿t ná»‘i database
- Kiá»ƒm tra quyá»n admin
- Xem console log Ä‘á»ƒ debug

## Tips sá»­ dá»¥ng

1. **Tráº£ lá»i nhanh**: Sá»­ dá»¥ng template cÃ³ sáºµn cho cÃ¡c cÃ¢u há»i thÆ°á»ng gáº·p
2. **CÃ¡ nhÃ¢n hÃ³a**: LuÃ´n gá»i tÃªn khÃ¡ch hÃ ng trong pháº£n há»“i
3. **ChuyÃªn nghiá»‡p**: Kiá»ƒm tra chÃ­nh táº£ trÆ°á»›c khi gá»­i
4. **Theo dÃµi**: ÄÃ¡nh dáº¥u Ä‘Ã£ Ä‘á»c ngay khi xem tin nháº¯n
5. **Æ¯u tiÃªn**: Tráº£ lá»i tin nháº¯n má»›i trÆ°á»›c

## TÃ­ch há»£p

Há»‡ thá»‘ng tÃ­ch há»£p vá»›i:
- âœ… Admin dashboard
- âœ… Notification system
- âœ… Email system
- âœ… User management

## Cáº­p nháº­t trong tÆ°Æ¡ng lai

- [ ] Template pháº£n há»“i cÃ³ sáºµn
- [ ] GÃ¡n tin nháº¯n cho admin cá»¥ thá»ƒ
- [ ] Thá»‘ng kÃª thá»i gian pháº£n há»“i
- [ ] Export bÃ¡o cÃ¡o
- [ ] TÃ¬m kiáº¿m vÃ  lá»c nÃ¢ng cao
- [ ] ÄÃ­nh kÃ¨m file trong pháº£n há»“i

---

**PhÃ¡t triá»ƒn bá»Ÿi**: Ngon Gallery Team  
**PhiÃªn báº£n**: 1.0  
**Cáº­p nháº­t**: 2024
